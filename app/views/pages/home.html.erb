<%= javascript_importmap_tags %>

<div class="offcanvas offcanvas-start" data-bs-backdrop="static" tabindex="-1" id="staticBackdrop" aria-labelledby="staticBackdropLabel">
  <div class="offcanvas-header">
    <h4 class="offcanvas-title" id="staticBackdropLabel"><strong>SurfSense</strong></h4>
    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <div>
      <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Amet rerum nesciunt officia nulla, fuga eveniet aliquam quis nisi, natus delectus explicabo assumenda cupiditate ullam dolorem at quaerat quam vel cum?</p>
    </div>
  </div>
</div>


<div class="home-container">
  <h3 class="page-title home">A guided surf-forecast for beginner surfer</h3>
  <div class="search-wrapper">

<!--!     COUNTRY BUTTON AND DROPDOWN     -->
    <%= render "shared/dropdown_menu",
      wrapper_class: 'country-wrapper',
      title: 'Country',
      dropdown_type: 'country',
      button_class: 'btn-country',
      button_text: 'Country',
      items: @countries,
      placeholder_text: 'Select a country' %>

<!--!     REGION BUTTON AND DROPDOWN     -->
    <%= render "shared/dropdown_menu",
      wrapper_class: 'region-wrapper',
      title: 'Region',
      dropdown_type: 'region',
      button_class: 'btn-region',
      button_text: 'Region',
      items: @regions,
      placeholder_text: 'Select a country first' %>

<!--!     BREAK BUTTON AND DROPDOWN     -->
    <%= render "shared/dropdown_menu",
      wrapper_class: 'break-wrapper',
      title: 'Break',
      dropdown_type: 'break',
      button_class: 'btn-break',
      button_text: 'Break',
      items: @breaks,
      placeholder_text: 'Select a country first' %>

  </div>
</div>

<!--! Hidden templates for JavaScript to use -->
<div style="display: none;">
 <div id="weather-template"
      data-controller="save-location"
      data-save-location-locations-value="<%= @locations.to_json %>">
    <%= render 'shared/weather_display' %>
  </div>
  <div id="card-template"
       data-controller="forecast save-location"
       data-dropdown-target="card"
       data-save-location-locations-value="<%= @locations.to_json %>"
       data-action="click->forecast#focusOnCard">
    <%= render 'shared/break_card' %>
  </div>
</div>

<div data-controller="forecast">
  <button
    id="show-flowchart-button"
    data-action="click->forecast#switchToFlowChart">
    Show Flowchart (placeholder for time slot selection)
  </button>
</div>

<div id="flowchart-container" style="margin-top: 30px; display: none;">
  <div id="svg-container"></div>
</div>
